"use strict";(self.webpackChunkluderic_freymann_app=self.webpackChunkluderic_freymann_app||[]).push([[156],{6156:(M,g,a)=>{a.r(g),a.d(g,{ClientModule:()=>v});var m=a(4910),u=a(6019),e=a(2383),o=a(9133);let d=(()=>{class r{static getValidatorErrorMessage(n,t){return{required:"Required",invalidPhoneNumber:"Is invalid phone number",invalidEmailAddress:"Invalid email address",invalidPassword:"Invalid password. Password must be at least 6 characters long, and contain a number.",minlength:`Minimum length ${t.requiredLength}`}[n]}static phoneNumberValidator(n){return n.value.match(/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s.-]*\d{2}){4}$/)?null:{invalidPhoneNumber:!0}}static emailValidator(n){return n.value.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)?null:{invalidEmailAddress:!0}}static passwordValidator(n){return n.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,100}$/)?null:{invalidPassword:!0}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var p=a(9270);let f=(()=>{class r{constructor(){this.errorMessage=""}get errorMessages(){var n,t,s,l;for(let c in null===(n=this.control)||void 0===n?void 0:n.errors)if((null===(t=this.control)||void 0===t?void 0:t.errors.hasOwnProperty(c))&&(null===(s=this.control)||void 0===s?void 0:s.touched))return d.getValidatorErrorMessage(c,null===(l=this.control)||void 0===l?void 0:l.errors[c]);return null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-control-messages"]],inputs:{control:"control"},decls:2,vars:1,template:function(n,t){1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu(t.errorMessages))},styles:["p[_ngcontent-%COMP%]{color:red;margin:0;padding-left:.2rem}"]}),r})();function _(r,i){if(1&r&&(e.TgZ(0,"div",16),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Oqu(n.error)}}let h=(()=>{class r{constructor(n,t,s){this.formBuilder=n,this.authenticationService=t,this.router=s,this.redirect=new e.vpe,this.registrationForm=this.formBuilder.group({first_name:["",o.kI.required],last_name:["",o.kI.required],email:["",[o.kI.required,d.emailValidator]],username:["",o.kI.required],password:["",[o.kI.required,o.kI.minLength(8)]]})}handleSubmit(){if(this.registrationForm.dirty&&this.registrationForm.valid){const n={first_name:this.registrationForm.value.first_name.trim(),last_name:this.registrationForm.value.last_name.trim(),email:this.registrationForm.value.email.trim(),username:this.registrationForm.value.username.trim(),password:this.registrationForm.value.password.trim()};this.authenticationService.signup(n).subscribe(t=>{this.router.navigate(["/authentication/signin"])},t=>{this.error=404==t.status?"Unknown URL":t.error.error})}else Object.keys(this.registrationForm.controls).forEach(n=>{this.registrationForm.get(n).markAsTouched({onlySelf:!0})})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(o.qu),e.Y36(p.$),e.Y36(m.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-form"]],outputs:{redirect:"redirect"},decls:45,vars:7,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-field"],["for","first_name"],["id","first_name","type","text","formControlName","first_name","required",""],[3,"control"],["for","last_name"],["id","last_name","type","text","formControlName","last_name"],["for","email"],["id","email","type","email","formControlName","email"],["for","username"],["id","username","type","text","formControlName","username"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,t){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return t.handleSubmit()}),e.TgZ(1,"div",1),e.TgZ(2,"h2"),e._uU(3,"Personal Information"),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"label",3),e._uU(6,"First Name "),e.TgZ(7,"span"),e._uU(8,"*"),e.qZA(),e.qZA(),e._UZ(9,"input",4),e._UZ(10,"app-control-messages",5),e.qZA(),e.TgZ(11,"div",2),e.TgZ(12,"label",6),e._uU(13,"Last Name "),e.TgZ(14,"span"),e._uU(15,"*"),e.qZA(),e.qZA(),e._UZ(16,"input",7),e._UZ(17,"app-control-messages",5),e.qZA(),e.TgZ(18,"div",2),e.TgZ(19,"label",8),e._uU(20,"Email "),e.TgZ(21,"span"),e._uU(22,"*"),e.qZA(),e.qZA(),e._UZ(23,"input",9),e._UZ(24,"app-control-messages",5),e.qZA(),e.qZA(),e.TgZ(25,"div",1),e.TgZ(26,"h2"),e._uU(27,"Authentication Information"),e.qZA(),e.TgZ(28,"div",2),e.TgZ(29,"label",10),e._uU(30,"Username "),e.TgZ(31,"span"),e._uU(32,"*"),e.qZA(),e.qZA(),e._UZ(33,"input",11),e._UZ(34,"app-control-messages",5),e.qZA(),e.TgZ(35,"div",2),e.TgZ(36,"label",12),e._uU(37,"Password "),e.TgZ(38,"span"),e._uU(39,"*"),e.qZA(),e.qZA(),e._UZ(40,"input",13),e._UZ(41,"app-control-messages",5),e.qZA(),e.qZA(),e.TgZ(42,"button",14),e._uU(43,"Submit"),e.qZA(),e.YNc(44,_,3,1,"div",15),e.qZA()),2&n&&(e.Q6J("formGroup",t.registrationForm),e.xp6(10),e.Q6J("control",t.registrationForm.get("first_name")),e.xp6(7),e.Q6J("control",t.registrationForm.get("last_name")),e.xp6(7),e.Q6J("control",t.registrationForm.get("email")),e.xp6(10),e.Q6J("control",t.registrationForm.get("username")),e.xp6(7),e.Q6J("control",t.registrationForm.get("password")),e.xp6(3),e.Q6J("ngIf",t.error))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.Q7,f,u.O5],styles:["input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none}.error[_ngcontent-%COMP%]{margin-top:1rem}.error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;font-size:1rem;padding-left:.5rem}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;margin:.2rem}.form-field[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:rgba(255,255,255,.25)}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;background:rgba(255,255,255,.25);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:#63636333 0 2px 8px;padding:.7rem 1rem;font-size:1rem;margin:.3rem 0;border:none;border-radius:15px}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;border-radius:15px;height:-moz-fit-content;height:fit-content;padding:.7rem 30px;cursor:pointer;background:black;font-size:1rem;color:#fff;border:1px solid rgba(0,0,0,0);box-shadow:#63636333 0 2px 8px;transition:.3s all ease;margin-top:1rem}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.25);color:#fff}"]}),r})(),Z=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-signup"]],decls:4,vars:0,consts:[[1,"card"],[1,"card_title"],[3,"redirect"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"h2",1),e._uU(2,"SIGNUP"),e.qZA(),e.TgZ(3,"app-form",2),e.NdJ("redirect",function(l){return t.form_data=l}),e.qZA(),e.qZA())},directives:[h],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.scroll_target[_ngcontent-%COMP%]{opacity:0;height:.01rem}"]}),r})();function b(r,i){if(1&r&&(e.TgZ(0,"div",12),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Oqu(n.error)}}const C=[{path:"signin",component:(()=>{class r{constructor(n,t,s){this.formBuilder=n,this.authenticationService=t,this.router=s,this.signinForm=this.formBuilder.group({username:["",o.kI.required],password:["",o.kI.required]})}handleSubmit(){this.signinForm.dirty&&this.signinForm.valid?(console.log({username:this.signinForm.value.username.trim(),password:this.signinForm.value.password.trim()}),this.authenticationService.signin(this.signinForm.value.username,this.signinForm.value.password).subscribe(n=>{this.router.navigate(["/"])},n=>{this.error=404==n.status?"Unknown URL":n.error.error})):Object.keys(this.signinForm.controls).forEach(n=>{this.signinForm.get(n).markAsTouched({onlySelf:!0})})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(o.qu),e.Y36(p.$),e.Y36(m.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-signin"]],decls:22,vars:4,consts:[[1,"card"],[1,"card_title"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-field"],["for","username"],["id","username","type","text","formControlName","username"],[3,"control"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"h2",1),e._uU(2,"SIGNIN"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return t.handleSubmit()}),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"label",5),e._uU(7,"Username "),e.TgZ(8,"span"),e._uU(9,"*"),e.qZA(),e.qZA(),e._UZ(10,"input",6),e._UZ(11,"app-control-messages",7),e.qZA(),e.TgZ(12,"div",4),e.TgZ(13,"label",8),e._uU(14,"Password "),e.TgZ(15,"span"),e._uU(16,"*"),e.qZA(),e.qZA(),e._UZ(17,"input",9),e._UZ(18,"app-control-messages",7),e.qZA(),e.qZA(),e.TgZ(19,"button",10),e._uU(20,"Signin"),e.qZA(),e.YNc(21,b,3,1,"div",11),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("formGroup",t.signinForm),e.xp6(8),e.Q6J("control",t.signinForm.get("username")),e.xp6(7),e.Q6J("control",t.signinForm.get("password")),e.xp6(3),e.Q6J("ngIf",t.error))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,f,u.O5],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}@media screen and (max-width: 768px){[_nghost-%COMP%]{margin-top:2rem}}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none}.error[_ngcontent-%COMP%]{margin-top:1rem}.error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;font-size:1rem;padding-left:.5rem}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;margin:.2rem}.form-field[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:rgba(255,255,255,.25)}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;background:rgba(255,255,255,.25);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:#63636333 0 2px 8px;padding:.7rem 1rem;font-size:1rem;margin:.3rem 0;border:none;border-radius:15px}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;border-radius:15px;height:-moz-fit-content;height:fit-content;padding:.7rem 30px;cursor:pointer;background:black;font-size:1rem;color:#fff;border:1px solid rgba(0,0,0,0);box-shadow:#63636333 0 2px 8px;transition:.3s all ease;margin-top:1rem}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.25);color:#fff}"]}),r})()},{path:"signup",component:Z}];let v=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.ez,m.Bz.forChild(C)]]}),r})()}}]);